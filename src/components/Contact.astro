---
---

<section class="contact">
  <div class="container">
    <h2>Contact</h2>
    <div class="content">
      <p class="availability">Services available by arrangement</p>
      <form id="contact-form" class="contact-form">
        <div class="form-group">
          <input type="text" id="name" name="name" placeholder="Name" required />
        </div>
        <div class="form-group">
          <input type="email" id="email" name="email" placeholder="Email" required />
        </div>
        <div class="form-group">
          <textarea id="message" name="message" placeholder="Message" rows="5" required></textarea>
        </div>
        <button type="submit" class="submit-btn">Send Message</button>
        <p class="form-status" id="form-status"></p>
      </form>
    </div>
  </div>
</section>

<style>
  .contact {
    padding: 8rem 2rem;
    background: var(--color-secondary);
  }
  
  .container {
    max-width: 600px;
    margin: 0 auto;
  }
  
  h2 {
    font-size: 3rem;
    margin-bottom: 3rem;
    color: var(--color-accent);
    font-weight: 300;
    text-align: center;
  }
  
  .availability {
    font-size: 1.1rem;
    color: var(--color-text-muted);
    margin-bottom: 2rem;
    font-weight: 300;
    text-align: center;
  }
  
  .contact-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }
  
  .form-group {
    display: flex;
    flex-direction: column;
  }
  
  input,
  textarea {
    padding: 1rem;
    background: rgba(26, 31, 46, 0.5);
    border: 1px solid rgba(201, 169, 97, 0.2);
    color: var(--color-text);
    font-family: var(--font-sans);
    font-size: 1rem;
    transition: border-color 0.3s ease;
  }
  
  input:focus,
  textarea:focus {
    outline: none;
    border-color: var(--color-accent);
  }
  
  input::placeholder,
  textarea::placeholder {
    color: var(--color-text-muted);
  }
  
  .submit-btn {
    padding: 1rem 2rem;
    background: var(--color-accent);
    color: var(--color-primary);
    border: none;
    font-family: var(--font-serif);
    font-size: 1.1rem;
    font-weight: 400;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .submit-btn:hover {
    background: var(--color-text);
    transform: translateY(-2px);
  }
  
  .submit-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }
  
  .form-status {
    text-align: center;
    font-size: 0.95rem;
    min-height: 1.5rem;
  }
  
  .form-status.success {
    color: #4ade80;
  }
  
  .form-status.error {
    color: #f87171;
  }
  
  @media (max-width: 768px) {
    .contact {
      padding: 5rem 1.5rem;
    }
    
    h2 {
      font-size: 2.2rem;
    }
  }
</style>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const status = document.getElementById('form-status') as HTMLParagraphElement;
  const submitBtn = form.querySelector('.submit-btn') as HTMLButtonElement;

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const formData = new FormData(form);
    const data = {
      name: formData.get('name'),
      email: formData.get('email'),
      message: formData.get('message'),
    };

    submitBtn.disabled = true;
    status.textContent = 'Sending...';
    status.className = 'form-status';

    try {
      const response = await fetch('/api/contact', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data),
      });

      if (response.ok) {
        status.textContent = 'Message sent successfully. We\'ll be in touch soon.';
        status.className = 'form-status success';
        form.reset();
      } else {
        throw new Error('Failed to send');
      }
    } catch (error) {
      status.textContent = 'Failed to send message. Please try again.';
      status.className = 'form-status error';
    } finally {
      submitBtn.disabled = false;
    }
  });
</script>